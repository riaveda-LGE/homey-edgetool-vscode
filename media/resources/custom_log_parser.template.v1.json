{
    "version": 1,
    "requirements": {
        "fields": {
            "time": true,
            "process": true,
            "pid": false,
            "message": true
        }
    },
    "preflight": {
        "sample_lines": 200,
        "min_match_ratio": 0.8,
        "hard_skip_if_any_line_matches": [
            "^=+\\([^)]*\\)=+$",
            "^(WIFI|BT|CLIP)==>"
        ]
    },
    "parser": [
        {
            "files": [
                "**/kernel.log*",
                "**/system.log*",
                "**/clip.log*",
                "**/cpcd.log*",
                "**/homey-pro.log*",
                "**/matter.log*",
                "**/otbr-agent.log*",
                "**/z3gateway.log*"
            ],
            "regex": {
                "time": "^(?<time>\\[(?:[A-Z][a-z]{2})\\s+\\d{1,2}\\s+\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{3,6})?\\])",
                "process": "\\]\\s+(?<process>[A-Za-z0-9._-]+)(?=\\[|:)",
                "pid": "(?:\\[(?<pid>\\d+)\\])?:",
                "message": ":\\s+(?<message>.+)$"
            }
        },
        {
            "files": [
                "**/bt_player.log*"
            ],
            "regex": {
                "time": "^(?<time>\\[(?:[A-Z][a-z]{2})\\s+\\d{1,2}\\s+\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{3,6})?\\])",
                "process": "\\]\\s+(?<process>[A-Za-z0-9._-]+)(?=\\[|:)",
                "pid": "(?:\\[(?<pid>\\d+)\\])?:",
                "message": ":\\s+(?<message>.+)$"
            }
        }
    ]
}