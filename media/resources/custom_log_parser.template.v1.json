{
  "version": 1,
  "requirements": {
    "fields": {
      "time": true,
      "process": true,
      "pid": false,
      "message": true
    }
  },
  "preflight": {
    "sample_lines": 200,
    "min_match_ratio": 0.8,
    "hard_skip_if_any_line_matches": ["^=+\\([^)]*\\)=+$", "^(WIFI|BT|CLIP)==>"]
  },
  "parser": [
    {
      "files": [
        "^system\\.log(?:\\.\\d+)?$",
        "^clip\\.log(?:\\.\\d+)?$",
        "^cpcd\\.log(?:\\.\\d+)?$",
        "^homey-pro\\.log(?:\\.\\d+)?$",
        "^matter\\.log(?:\\.\\d+)?$",
        "^otbr-agent\\.log(?:\\.\\d+)?$",
        "^z3gateway\\.log(?:\\.\\d+)?$"
      ],
      "regex": {
        "time": "^\\[(?<time>(?:[A-Z][a-z]{2})\\s+\\d{1,2}\\s+\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{3,6})?)\\]",
        "process": "^\\[[^\\]]+\\]\\s+(?<process>[A-Za-z0-9._-]+)(?=\\[|:)",
        "pid": "^\\[[^\\]]+\\]\\s+[A-Za-z0-9._-]+(?:\\[(?<pid>\\d+)\\])?:",
        "message": "^\\[[^\\]]+\\]\\s+[A-Za-z0-9._-]+(?:\\[\\d+\\])?:\\s+(?<message>.+)$"
      }
    },
    {
      "files": ["^kernel\\.log(?:\\.\\d+)?$"],
      "regex": {
        "time": "^\\[(?<time>(?:[A-Z][a-z]{2})\\s+\\d{1,2}\\s+\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{3,6})?)\\]",
        "process": "^\\[[^\\]]+\\]\\s+(?<process>kernel)(?=:)",
        "pid": "^\\[[^\\]]+\\]\\s+kernel(?::)",
        "message": "^\\[[^\\]]+\\]\\s+kernel:\\s+(?<message>.+)$"
      }
    },
    {
      "files": ["^bt_player\\.log(?:\\.\\d+)?$"],
      "regex": {
        "time": "^\\[(?<time>(?:[A-Z][a-z]{2})\\s+\\d{1,2}\\s+\\d{2}:\\d{2}:\\d{2}(?:\\.\\d{3,6})?)\\]",
        "process": "^\\[[^\\]]+\\]\\s+(?<process>[A-Za-z0-9._-]+)(?=\\[|:)",
        "pid": "^\\[[^\\]]+\\]\\s+[A-Za-z0-9._-]+(?:\\[(?<pid>\\d+)\\])?:",
        "message": "^\\[[^\\]]+\\]\\s+[A-Za-z0-9._-]+(?:\\[\\d+\\])?:\\s+(?<message>.+)$"
      }
    }
  ]
}
